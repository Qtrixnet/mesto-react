{"version":3,"sources":["images/Logo-white.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmDeletePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","alt","src","logo","CurrentUserContext","React","createContext","Card","card","likeCounter","onCardClick","onCardDelete","onCardLike","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","title","name","onClick","type","Main","onEditAvatar","onEditProfile","onAddPlace","cards","about","avatar","id","map","length","Footer","Date","getFullYear","ImagePopup","onClose","isOpen","element","api","data","this","_baseUrl","serverUrl","_token","token","res","ok","json","Promise","reject","status","statusText","fetch","headers","authorization","then","_requestResult","method","body","JSON","stringify","cardId","PopupWithForm","children","onSubmit","submitText","noValidate","EditProfilePopup","onUpdateUser","isDataLoad","useState","profileName","setProfileName","profileDescription","setDescription","useEffect","e","preventDefault","value","onChange","target","placeholder","required","maxLength","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","onAddCard","placeName","setPlaceName","placeLink","setPlaceLink","minLength","ConfirmDeletePopup","onDeleteCard","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isCardDelete","setIsCardDelete","setIsDataLoad","selectedCard","setSelectedCard","selectedCardDelete","setSelectedCardDelete","setCurrentUser","setCards","closeAllPopups","getUserInfo","catch","err","console","log","getInitialCards","initialCards","Provider","changeCardLike","newCard","newCards","c","newUserData","editProfile","finally","addNewCard","newAvatar","editAvatar","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9f6b4958.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Logo-white.1f1e9591.svg\";","import React from \"react\";\r\nimport logo from \"../images/Logo-white.svg\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" alt=\"Логотип\" src={logo} />\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;","import React from \"react\";\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({ card, likeCounter, onCardClick, onCardDelete, onCardLike }) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  //* Определяем, являемся ли мы владельцем текущей карточки\r\n  const isOwn = card.owner._id === currentUser._id;\r\n\r\n  //* Создаём переменную, которую после зададим в `className` для кнопки удаления\r\n  const cardDeleteButtonClassName = (\r\n    `elements__delete-button ${isOwn ? 'elements__delete-button_visible' : 'elements__delete-button_hidden'}`\r\n  );\r\n\r\n  //* Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n  //* Создаём переменную, которую после зададим в `className` для кнопки лайка\r\n  const cardLikeButtonClassName = (\r\n    `elements__like-button ${isLiked ? 'elements__like-button_active heartbeat' : ''}`\r\n  );\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card)\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card)\r\n  }\r\n\r\n  return (\r\n    <li className=\"elements__list-item\">\r\n      <img\r\n        src={card.link}\r\n        className=\"elements__picture\"\r\n        title=\"Посмотреть фотографию\"\r\n        alt={card.name}\r\n        onClick={handleClick}\r\n      />\r\n      <div className=\"elements__container\">\r\n        <h2 className=\"elements__text\">{card.name}</h2>\r\n        <button\r\n          type=\"button\"\r\n          title=\"Удалить карточку\"\r\n          className={cardDeleteButtonClassName}\r\n          onClick={handleDeleteClick}\r\n        ></button>\r\n        <div className=\"elements__like-container\">\r\n          <button\r\n            type=\"button\"\r\n            className={cardLikeButtonClassName}\r\n            onClick={handleLikeClick}\r\n          ></button>\r\n          <span className=\"elements__like-counter\">{likeCounter}</span>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;","import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardDelete, onCardLike, cards }) {\r\n\r\n  const { name, about, avatar } = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar-edit\">\r\n          <img\r\n            className=\"profile__avatar\"\r\n            title=\"Аватар профиля\"\r\n            src={avatar}\r\n            alt=\"Аватар\"\r\n          />\r\n          <button\r\n            title=\"Загрузить новый аватар\"\r\n            className=\"profile__avatar-edit-button\"\r\n            onClick={onEditAvatar}\r\n          ></button>\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <h1 id=\"profile__name\" className=\"profile__name\">\r\n            {name}\r\n          </h1>\r\n          <p id=\"profile__job\" className=\"profile__job\">\r\n            {about}\r\n          </p>\r\n          <button\r\n            type=\"button\"\r\n            title=\"Редактировать профиль\"\r\n            className=\"profile__edit-button\"\r\n            onClick={onEditProfile}\r\n          ></button>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          title=\"Добавить новую фотографию\"\r\n          className=\"profile__add-button\"\r\n          onClick={onAddPlace}\r\n        ></button>\r\n      </section>\r\n      <section className=\"elements\">\r\n        <ul className=\"elements__list\">\r\n          {cards.map((card) => (\r\n            <Card\r\n              key={card._id}\r\n              card={card}\r\n              onCardClick={onCardClick}\r\n              onCardDelete={onCardDelete}\r\n              likeCounter={card.likes.length}\r\n              onCardLike={onCardLike}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__author\">\r\n        &copy; {new Date().getFullYear()} Kirill Shashichev 💙 Яндекс Практикум\r\n    </p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nfunction ImagePopup({ card, onClose }) {\r\n\r\n  return (\r\n    <div className={`popup ${card.isOpen && 'popup_opened'}`}>\r\n      <div className=\"popup__fullScreen\">\r\n        <div className=\"popup__image-desription\">\r\n          <img\r\n            className=\"popup__image\"\r\n            src={`${card.element.link}`}\r\n            alt={card.element.name}\r\n          />\r\n          <p className=\"popup__image-subtitle\">{card.element.name}</p>\r\n          <button type=\"button\" onClick={onClose} className=\"popup__close-button\"></button>\r\n        </div>\r\n      </div>\r\n      <div onClick={onClose} className=\"popup__overlay\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","//* Класс для взаимодействия с сервером\r\nclass Api {\r\n  constructor(data) {\r\n    this._baseUrl = data.serverUrl;\r\n    this._token = data.token;\r\n  }\r\n\r\n  //* Проверка статуса запроса\r\n  _requestResult(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    } else {\r\n      return Promise.reject(\r\n        `Что-то пошло не так: Ошибка ${res.status} - ${res.statusText}`\r\n      );\r\n    }\r\n  }\r\n\r\n  //* Запрос данных пользователя\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then((res) => this._requestResult(res));\r\n  }\r\n\r\n  //* Запрос изначальных карточек\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then((res) => this._requestResult(res));\r\n  }\r\n\r\n  editAvatar(data) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: data,\r\n      }),\r\n    }).then((res) => this._requestResult(res));\r\n  }\r\n\r\n  //* Запрос на редактирование данных пользователя\r\n  editProfile(data) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about,\r\n      }),\r\n    }).then((res) => this._requestResult(res));\r\n  }\r\n\r\n  //* Запрос на добавление карточки\r\n  addNewCard(data) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link,\r\n      }),\r\n    }).then((res) => this._requestResult(res));\r\n  }\r\n\r\n  //* Запрос на удаление карточки\r\n  deleteCard(data) {\r\n    return fetch(`${this._baseUrl}/cards/${data}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then((res) => this._requestResult(res));\r\n  }\r\n\r\n  //* Запрос на добавление или удаление лайка карточки\r\n  changeCardLike(cardId, isLiked) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n      method: !isLiked ? \"PUT\" : \"DELETE\",\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then((res) => this._requestResult(res));\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  serverUrl: \"https://mesto.nomoreparties.co/v1/cohort-19\",\r\n  token: \"4fc24223-fbb6-4e5b-bedd-d51fcb2b9911\",\r\n});\r\n\r\nexport default api;","import React from \"react\";\r\n\r\nfunction PopupWithForm({ id, isOpen, name, children, title, onClose, onSubmit, submitText }) {\r\n\r\n  return (\r\n    <div id={id} className={`popup ${isOpen && 'popup_opened'}`}>\r\n      <form name={name} className=\"popup__form\" onSubmit={onSubmit} noValidate>\r\n        <fieldset className=\"popup__set\">\r\n          <p className=\"popup__title\">{title}</p>\r\n          {children}\r\n          <button type=\"submit\" className=\"popup__button\">\r\n            {submitText}\r\n          </button>\r\n        </fieldset>\r\n        <button type=\"button\" onClick={onClose} className=\"popup__close-button\"></button>\r\n      </form>\r\n      <div onClick={onClose} className=\"popup__overlay\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isDataLoad }) {\r\n    const [profileName, setProfileName] = React.useState('');\r\n    const [profileDescription, setDescription] = React.useState('');\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const { name, about } = currentUser;\r\n\r\n    function handleChangeName(e) {\r\n        setProfileName(e.target.value);\r\n    }\r\n\r\n    function handleChangeDescription(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        //* Передаём значения управляемых компонентов во внешний обработчик\r\n        onUpdateUser({\r\n            name: profileName,\r\n            about: profileDescription,\r\n        });\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setProfileName(name);\r\n        setDescription(about);\r\n    }, [currentUser]);\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"profile\"\r\n            id=\"editProfile\"\r\n            title=\"Редактировать профиль\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            submitText={isDataLoad ? 'Сохраняем...' : 'Сохранить профиль'}\r\n        >\r\n            <label className=\"popup__form-field\">\r\n                <input\r\n                    value={profileName || ''} onChange={handleChangeName}\r\n                    name=\"name\"\r\n                    placeholder=\"Имя\"\r\n                    required\r\n                    maxLength=\"40\"\r\n                    className=\"popup__input\"\r\n                    id=\"popup__name-input\"\r\n                    type=\"text\"\r\n                />\r\n                <span\r\n                    id=\"popup__name-input-error\"\r\n                    className=\"popup__input-error\"\r\n                ></span>\r\n            </label>\r\n            <label className=\"popup__form-field\">\r\n                <input\r\n                    value={profileDescription || ''} onChange={handleChangeDescription}\r\n                    name=\"job\"\r\n                    placeholder=\"Профессия\"\r\n                    required\r\n                    maxLength=\"200\"\r\n                    className=\"popup__input\"\r\n                    id=\"popup__job-input\"\r\n                    type=\"text\"\r\n                />\r\n                <span\r\n                    id=\"popup__job-input-error\"\r\n                    className=\"popup__input-error\"\r\n                ></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isDataLoad }) {\r\n\r\n    const avatarRef = React.useRef(); //* записываем объект, возвращаемый хуком, в переменную\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        onUpdateAvatar(\r\n            avatarRef.current.value,\r\n        );\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"updateAvatar\"\r\n            id=\"update\"\r\n            title=\"Обновить аватар\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            submitText={isDataLoad ? 'Обновляем...' : 'Обновить'}\r\n        >\r\n            <label className=\"popup__form-field\">\r\n                <input\r\n                    ref={avatarRef}\r\n                    name=\"avatar\"\r\n                    className=\"popup__input\"\r\n                    id=\"popup__avatarLink-input\"\r\n                    required\r\n                    placeholder=\"Ссылка на изображение\"\r\n                    type=\"url\"\r\n                />\r\n                <span\r\n                    id=\"popup__avatarLink-input-error\"\r\n                    className=\"popup__input-error\"\r\n                ></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddCard, isDataLoad }) {\r\n\r\n    const [placeName, setPlaceName] = React.useState('');\r\n    const [placeLink, setPlaceLink] = React.useState('');\r\n\r\n\r\n    function handleChangePlaceName(e) {\r\n        setPlaceName(e.target.value);\r\n    }\r\n\r\n    function handleChangePlaceLink(e) {\r\n        setPlaceLink(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        //* Передаём значения управляемых компонентов во внешний обработчик\r\n        onAddCard({\r\n            name: placeName,\r\n            link: placeLink,\r\n        });\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setPlaceName('');\r\n        setPlaceLink('');\r\n    }, [isOpen]);\r\n\r\n    return (\r\n        <PopupWithForm\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            name=\"newCard\"\r\n            id=\"addCard\"\r\n            title=\"Новое место\"\r\n            submitText={isDataLoad ? 'Добавляем...' : 'Добавить карточку'}\r\n        >\r\n            <label className=\"popup__form-field\">\r\n                <input\r\n                    value={placeName} onChange={handleChangePlaceName}\r\n                    name=\"placeName\"\r\n                    className=\"popup__input\"\r\n                    id=\"popup__placeName-input\"\r\n                    required\r\n                    minLength=\"1\"\r\n                    maxLength=\"30\"\r\n                    placeholder=\"Название карточки\"\r\n                    type=\"text\"\r\n                />\r\n                <span\r\n                    id=\"popup__placeName-input-error\"\r\n                    className=\"popup__input-error\"\r\n                ></span>\r\n            </label>\r\n            <label className=\"popup__form-field\">\r\n                <input\r\n                    value={placeLink} onChange={handleChangePlaceLink}\r\n                    name=\"placeLink\"\r\n                    className=\"popup__input\"\r\n                    id=\"popup__placeLink-input\"\r\n                    required\r\n                    placeholder=\"Ссылка на картинку\"\r\n                    type=\"url\"\r\n                />\r\n                <span\r\n                    id=\"popup__placeLink-input-error\"\r\n                    className=\"popup__input-error\"\r\n                ></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction ConfirmDeletePopup({ isOpen, onClose, isDataLoad, card, onDeleteCard }) {\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onDeleteCard(card);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"confirmDeleteCard\"\r\n            id=\"confirm\"\r\n            title=\"Вы уверены?\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            submitText={isDataLoad ? 'Удаляем...' : 'Да'}\r\n            onSubmit={handleSubmit}\r\n        />\r\n    )\r\n}\r\n\r\nexport default ConfirmDeletePopup;","import React from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport api from \"../utils/api\";\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ConfirmDeletePopup from \"./ConfirmDeletePopup\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [isCardDelete, setIsCardDelete] = React.useState(false);\n  const [isDataLoad, setIsDataLoad] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({\n    isOpen: false,\n    element: {},\n  });\n  const [selectedCardDelete, setSelectedCardDelete] = React.useState({\n    element: {}\n  });\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api.getUserInfo()\n      .then(res => { setCurrentUser(res); })\n      .catch(err => { console.log(err); })\n  }, []);\n\n  React.useEffect(() => {\n    api.getInitialCards()\n      .then(initialCards => {\n        setCards(initialCards);\n      })\n      .catch(err => { console.log(err) });\n  }, []);\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n  }\n\n  function handleDeleteButtonClick(card) {\n    setIsCardDelete(!isCardDelete);\n    setSelectedCardDelete(card);\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(!isEditProfilePopupOpen);\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(!isAddPlacePopupOpen);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard({ ...selectedCard, isOpen: true, element: card });\n  }\n\n  function closeAllPopups() {\n    setEditAvatarPopupOpen(false);\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setIsCardDelete(false)\n    setSelectedCard({ ...selectedCard, isOpen: false });\n    setSelectedCardDelete({})\n    setIsDataLoad(false)\n  }\n\n  function handleCardLike(card) {\n    //* Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    //* Отправляем запрос в API и получаем обновлённые данные карточки\n\n    api.changeCardLike(card._id, isLiked).then((newCard) => {\n      //* Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      //* Обновляем стейт\n      setCards(newCards);\n    })\n      .catch(err => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateUser(newUserData) {\n    setIsDataLoad(true);\n    api.editProfile(newUserData)\n      .then(res => { setCurrentUser(res); closeAllPopups() })\n      .catch(err => { console.log(err) })\n      .finally(() => { setIsDataLoad(false) });\n  }\n\n  function handleUpdateAvatar(newAvatar) {\n    setIsDataLoad(true);\n    api.editAvatar(newAvatar)\n      .then(res => { setCurrentUser(res); closeAllPopups() })\n      .catch(err => { console.log(err) })\n      .finally(() => { setIsDataLoad(false) });\n  }\n\n  function handleAddPlaceSubmit(newCard) {\n    setIsDataLoad(true);\n    api.addNewCard(newCard).then((res) => {\n      setCards([res, ...cards]); closeAllPopups()\n    })\n      .catch(err => {\n        console.log(err);\n      })\n      .finally(() => { setIsDataLoad(false) });\n  }\n\n  function handleCardDelete(card) {\n    setIsDataLoad(true);\n    api.deleteCard(card._id).then(() => {\n      const newCards = cards.filter(newCard => newCard._id !== card._id)\n      //* Обновляем стейт\n      setCards(newCards);\n      closeAllPopups()\n    })\n      .catch(err => {\n        console.log(err);\n      })\n      .finally(() => { setIsDataLoad(false) });\n  }\n\n  return (\n    <div className=\"App\">\n      <div className=\"page\">\n        <div className=\"page__container\">\n          <CurrentUserContext.Provider value={currentUser}>\n            <Header />\n            <Main\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              onCardClick={handleCardClick}\n              onCardDelete={handleDeleteButtonClick}\n              onCardLike={handleCardLike}\n              cards={cards}\n            />\n            <EditProfilePopup isDataLoad={isDataLoad} onUpdateUser={handleUpdateUser} isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} />\n            <AddPlacePopup isDataLoad={isDataLoad} onAddCard={handleAddPlaceSubmit} isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} />\n            <EditAvatarPopup isDataLoad={isDataLoad} onUpdateAvatar={handleUpdateAvatar} isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} />\n            <ConfirmDeletePopup card={selectedCardDelete} isDataLoad={isDataLoad} onDeleteCard={handleCardDelete} isOpen={isCardDelete} onClose={closeAllPopups} />\n            <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n            <Footer />\n          </CurrentUserContext.Provider>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <>\n    <App />\n  </>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}